name: Notify Slack on Re-Requested Review

# 'review_requested' ì´ë²¤íŠ¸ ê°ì§€
on:
  pull_request:
    types: [review_requested]
    branches:
      - '**'

jobs:
  notify-slack:
    runs-on: ubuntu-latest

    steps:
      - name: Send Slack Notification
        run: |
          PR_NUMBER=${{ github.event.pull_request.number }}
          PR_TITLE="${{ github.event.pull_request.title }}"
          PR_URL="${{ github.event.pull_request.html_url }}"
          REQUESTED_REVIEWER="${{ github.event.requested_reviewer.login }}"
          PR_AUTHOR="${{ github.event.pull_request.user.login }}"

          # Slack Webhook í˜¸ì¶œ
          curl -X POST \
               -H 'Content-type: application/json' \
               --data '{
                 "text": "ğŸ“¢ *ë¦¬ë·° ìš”ì²­ ì•Œë¦¼*\n*PR ì œëª©:* '"${PR_TITLE}"' (#'"${PR_NUMBER}"')\n*ì‘ì„±ì:* '"${PR_AUTHOR}"'\n*ë¦¬ë·°ì–´:* '"${REQUESTED_REVIEWER}"'\n*ë§í¬:* '"${PR_URL}"'"
               }' \
               ${{ secrets.SLACK_WEBHOOK_URL }}